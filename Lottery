import random
from datetime import datetime
import tkinter as tk
from tkinter import messagebox

# æŠ½å¥–æ¦‚ç‡é…ç½® (æ€»å’Œåº”è¯¥ä¸º100)
lottery_items = [
    ("æ»šä½ å¦ˆçš„", 10),
    ("å»ä½ å¦ˆçš„", 10),
    ("ä½ ä¹Ÿé…ï¼Ÿ", 10),
    ("å‚»é€¼äºŒæ¬¡å…ƒ", 10),
    ("ç™”ç—‡åˆçŠ¯äº†ï¼Ÿ", 10),
    ("æ­»ç”·åŒçœŸæ¶å¿ƒ", 5),
    ("ç°åœ¨æ˜¯å¹»æƒ³æ—¶åˆ»", 5),
    ("æŸšå­å¨æ»šå‡ºå»", 5),
    ("è¿™æ˜¯æœ€åé€šç‰’", 5),
    ("ä»¥åä¸è¦å†å’Œæˆ‘æ‰¯ä¸Šå…³ç³»", 5),
    ("è¢«æ‹‰é»‘+å±è”½", 5),
    ("å°ç”·å¨˜", 5),
    ("éšæœºçš„ç½‘å›¾", 2.5),
    ("éšæœºçš„è´´å§åœ£ç»", 2.5),
    ("ä¸‹æ¬¡å†è¯´å§", 2.5),
    ("ä½ æ˜¯ä¸ªå¥½äºº", 2.5),
    ("æˆ‘ä¸€ç›´æŠŠä½ å½“å¥½æœ‹å‹", 2.5),
    ("æ»šå‡ºå»", 2.49),
    ("å¥½å‘€å®å®", 0.01)
]

# æ´»åŠ¨ç»“æŸæ—¥æœŸ
END_DATE = datetime(2025, 8, 29)

# æ„å»ºæ¦‚ç‡åˆ—è¡¨
def build_probability_list(items):
    prob_list = []
    for item, prob in items:
        # æ‰©å¤§100å€å¤„ç†å°æ•°æ¦‚ç‡
        count = int(prob * 100)
        prob_list.extend([item] * count)
    return prob_list

probability_list = build_probability_list(lottery_items)

def handle_lottery_gui():
    now = datetime.now()
    if now > END_DATE:
        messagebox.showinfo("æŠ½å¥–ç»“æœ", f"ğŸ‰ä¸ƒå¤•é™å®šå¡æ± å·²ç»“æŸğŸ’”\næ´»åŠ¨å·²äº{END_DATE.strftime('%Yå¹´%mæœˆ%dæ—¥')}ç»“æŸï¼Œæ„Ÿè°¢å‚ä¸ï¼")
        return

    result = random.choice(probability_list)
    if result == "å¥½å‘€å®å®":
        response = f"ğŸ’˜æ­å–œä½ æŠ½ä¸­é™å®šSSRã€Œ{result}ã€ğŸ’•\nä½ æ˜¯å¤©é€‰ä¹‹å­ï¼"
    else:
        response = f"ğŸ°ä½ çš„æŠ½ç­¾ç»“æœæ˜¯ï¼šã€Œ{result}ã€\nç»§ç»­åŠªåŠ›ï¼Œä¸‹ä¸€æ¬¡å¯èƒ½ä¼šæŠ½åˆ°é™å®šSSRå“¦ï¼"
    messagebox.showinfo("æŠ½å¥–ç»“æœ", response)

if __name__ == "__main__":
    # åˆ›å»ºçª—å£
    root = tk.Tk()
    root.title("æŠ½å¥–ç¨‹åº")
    root.geometry("300x150")

    label = tk.Label(root, text="ç‚¹å‡»æŒ‰é’®è¿›è¡ŒæŠ½å¥–", font=("æ€æºé»‘ä½“", 12))
    label.pack(pady=20)

    button = tk.Button(root, text="å’±ä¿©è¯•è¯•ï¼Ÿ", font=("æ€æºé»‘ä½“", 12), command = handle_lottery_gui)
    button.pack(pady=10)

    root.mainloop()

